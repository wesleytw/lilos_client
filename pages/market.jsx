import Head from "next/head"
import { shortenAddress } from "../src/utils/shortenAddress";
import { useMoralis, useNFTBalances, useWeb3ExecuteFunction, useMoralisWeb3Api } from "react-moralis";
import React, { useEffect, useState } from "react";
import { Nav } from "../components";
import { MdOutlineVerified } from "react-icons/md";

const Account = () => {
	// const { Moralis } = useMoralis();
	const { contractProcessor } = useWeb3ExecuteFunction();
	const { account, isAuthenticated, authenticate, isAuthenticating, logout, user } = useMoralis();
	// const { getNFTBalances, data } = useNFTBalances();
	const { native } = useMoralisWeb3Api();

	useEffect(() => {
		console.log('isAuthenticated?', isAuthenticated)
		if (!isAuthenticated) return
		// getNFTBalances({
		// 	params: {
		// 		chain: "rinkeby",
		// 		address: user.get('ethAddress')
		// 	}
		// })
	}, [isAuthenticated])

	const verifyCollection = (tokenAddress) => {
		if (tokenAddress == "0x3bed33dab84a9415198d3fdb452e94829e16c1b6") {
			return true
		} else {
			return false
		}
	}

	// async function readonly(){
			const options = {
				chain: "rinkeby",
				address: "0xA4f2020bF0bbe5c507b41e230F590957Ebc63d13",
				function_name: "getActiveItems",
				abi: [{ "inputs": [], "stateMutability": "nonpayable", "type": "constructor" }, { "anonymous": false, "inputs": [{ "indexed": false, "internalType": "uint256", "name": "listingId", "type": "uint256" }, { "indexed": false, "internalType": "address", "name": "lessor", "type": "address" }], "name": "Delisted", "type": "event" }, { "anonymous": false, "inputs": [{ "indexed": true, "internalType": "uint256", "name": "listingId", "type": "uint256" }, { "indexed": true, "internalType": "address", "name": "lessor", "type": "address" }, { "indexed": true, "internalType": "address", "name": "lessee", "type": "address" }, { "indexed": false, "internalType": "address", "name": "collection", "type": "address" }, { "indexed": false, "internalType": "uint256", "name": "tokenId", "type": "uint256" }, { "indexed": false, "internalType": "uint256", "name": "collateral_value", "type": "uint256" }, { "indexed": false, "internalType": "uint256", "name": "rent_value", "type": "uint256" }, { "indexed": false, "internalType": "uint256", "name": "lease_term", "type": "uint256" }, { "indexed": false, "internalType": "uint256", "name": "lease_start_date", "type": "uint256" }, { "indexed": false, "internalType": "uint256", "name": "lease_end_date", "type": "uint256" }], "name": "Leased", "type": "event" }, { "anonymous": false, "inputs": [{ "indexed": true, "internalType": "uint256", "name": "listingId", "type": "uint256" }, { "indexed": true, "internalType": "address", "name": "lessor", "type": "address" }, { "indexed": true, "internalType": "address", "name": "lessee", "type": "address" }, { "indexed": false, "internalType": "address", "name": "collection", "type": "address" }, { "indexed": false, "internalType": "uint256", "name": "tokenId", "type": "uint256" }, { "indexed": false, "internalType": "uint256", "name": "collateral_value", "type": "uint256" }, { "indexed": false, "internalType": "uint256", "name": "lease_term", "type": "uint256" }, { "indexed": false, "internalType": "uint256", "name": "lease_start_date", "type": "uint256" }, { "indexed": false, "internalType": "uint256", "name": "lease_end_date", "type": "uint256" }, { "indexed": false, "internalType": "uint256", "name": "Liquidated_date", "type": "uint256" }], "name": "Liquidated", "type": "event" }, { "anonymous": false, "inputs": [{ "indexed": true, "internalType": "uint256", "name": "listingId", "type": "uint256" }, { "indexed": false, "internalType": "enum Lilos_V1.ListingStatus", "name": "status", "type": "uint8" }, { "indexed": true, "internalType": "address", "name": "lessor", "type": "address" }, { "indexed": false, "internalType": "address", "name": "collection", "type": "address" }, { "indexed": false, "internalType": "uint256", "name": "tokenId", "type": "uint256" }, { "indexed": false, "internalType": "uint256", "name": "collateral_value", "type": "uint256" }, { "indexed": false, "internalType": "uint256", "name": "rent_value", "type": "uint256" }, { "indexed": false, "internalType": "uint256", "name": "lease_term", "type": "uint256" }], "name": "Listed", "type": "event" }, { "anonymous": false, "inputs": [{ "indexed": true, "internalType": "uint256", "name": "listingId", "type": "uint256" }, { "indexed": false, "internalType": "address", "name": "lessor", "type": "address" }, { "indexed": true, "internalType": "address", "name": "lessee", "type": "address" }, { "indexed": true, "internalType": "address", "name": "repayer", "type": "address" }, { "indexed": false, "internalType": "address", "name": "collection", "type": "address" }, { "indexed": false, "internalType": "uint256", "name": "tokenId", "type": "uint256" }, { "indexed": false, "internalType": "uint256", "name": "collateral_value", "type": "uint256" }, { "indexed": false, "internalType": "uint256", "name": "lease_term", "type": "uint256" }, { "indexed": false, "internalType": "uint256", "name": "lease_start_date", "type": "uint256" }, { "indexed": false, "internalType": "uint256", "name": "lease_end_date", "type": "uint256" }], "name": "Repayed", "type": "event" }, { "inputs": [{ "internalType": "uint256", "name": "listingId_", "type": "uint256" }], "name": "delist", "outputs": [], "stateMutability": "nonpayable", "type": "function" }, { "inputs": [], "name": "getActiveItems", "outputs": [{ "components": [{ "internalType": "enum Lilos_V1.ListingStatus", "name": "status", "type": "uint8" }, { "internalType": "address", "name": "lessor", "type": "address" }, { "internalType": "address", "name": "lessee", "type": "address" }, { "internalType": "address", "name": "collection", "type": "address" }, { "internalType": "uint256", "name": "tokenId", "type": "uint256" }, { "internalType": "uint256", "name": "collateral_value", "type": "uint256" }, { "internalType": "uint256", "name": "rent_value", "type": "uint256" }, { "internalType": "uint256", "name": "lease_term", "type": "uint256" }, { "internalType": "uint256", "name": "lease_start_date", "type": "uint256" }, { "internalType": "uint256", "name": "lease_end_date", "type": "uint256" }], "internalType": "struct Lilos_V1.ListingItem[]", "name": "", "type": "tuple[]" }], "stateMutability": "view", "type": "function" }, { "inputs": [], "name": "getAllItems", "outputs": [{ "components": [{ "internalType": "enum Lilos_V1.ListingStatus", "name": "status", "type": "uint8" }, { "internalType": "address", "name": "lessor", "type": "address" }, { "internalType": "address", "name": "lessee", "type": "address" }, { "internalType": "address", "name": "collection", "type": "address" }, { "internalType": "uint256", "name": "tokenId", "type": "uint256" }, { "internalType": "uint256", "name": "collateral_value", "type": "uint256" }, { "internalType": "uint256", "name": "rent_value", "type": "uint256" }, { "internalType": "uint256", "name": "lease_term", "type": "uint256" }, { "internalType": "uint256", "name": "lease_start_date", "type": "uint256" }, { "internalType": "uint256", "name": "lease_end_date", "type": "uint256" }], "internalType": "struct Lilos_V1.ListingItem[]", "name": "", "type": "tuple[]" }], "stateMutability": "view", "type": "function" }, { "inputs": [{ "internalType": "uint256", "name": "listingId_", "type": "uint256" }], "name": "getIsExpiredByListingId", "outputs": [{ "internalType": "bool", "name": "", "type": "bool" }], "stateMutability": "view", "type": "function" }, { "inputs": [{ "internalType": "address", "name": "collection_", "type": "address" }, { "internalType": "uint256", "name": "tokenId_", "type": "uint256" }], "name": "getItemByCollctionAndTokenId", "outputs": [{ "components": [{ "internalType": "enum Lilos_V1.ListingStatus", "name": "status", "type": "uint8" }, { "internalType": "address", "name": "lessor", "type": "address" }, { "internalType": "address", "name": "lessee", "type": "address" }, { "internalType": "address", "name": "collection", "type": "address" }, { "internalType": "uint256", "name": "tokenId", "type": "uint256" }, { "internalType": "uint256", "name": "collateral_value", "type": "uint256" }, { "internalType": "uint256", "name": "rent_value", "type": "uint256" }, { "internalType": "uint256", "name": "lease_term", "type": "uint256" }, { "internalType": "uint256", "name": "lease_start_date", "type": "uint256" }, { "internalType": "uint256", "name": "lease_end_date", "type": "uint256" }], "internalType": "struct Lilos_V1.ListingItem", "name": "", "type": "tuple" }], "stateMutability": "view", "type": "function" }, { "inputs": [{ "internalType": "uint256", "name": "listingId_", "type": "uint256" }], "name": "getItemByListingId", "outputs": [{ "components": [{ "internalType": "enum Lilos_V1.ListingStatus", "name": "status", "type": "uint8" }, { "internalType": "address", "name": "lessor", "type": "address" }, { "internalType": "address", "name": "lessee", "type": "address" }, { "internalType": "address", "name": "collection", "type": "address" }, { "internalType": "uint256", "name": "tokenId", "type": "uint256" }, { "internalType": "uint256", "name": "collateral_value", "type": "uint256" }, { "internalType": "uint256", "name": "rent_value", "type": "uint256" }, { "internalType": "uint256", "name": "lease_term", "type": "uint256" }, { "internalType": "uint256", "name": "lease_start_date", "type": "uint256" }, { "internalType": "uint256", "name": "lease_end_date", "type": "uint256" }], "internalType": "struct Lilos_V1.ListingItem", "name": "", "type": "tuple" }], "stateMutability": "view", "type": "function" }, { "inputs": [{ "internalType": "address", "name": "lessee_", "type": "address" }], "name": "getItemsByLessee", "outputs": [{ "components": [{ "internalType": "enum Lilos_V1.ListingStatus", "name": "status", "type": "uint8" }, { "internalType": "address", "name": "lessor", "type": "address" }, { "internalType": "address", "name": "lessee", "type": "address" }, { "internalType": "address", "name": "collection", "type": "address" }, { "internalType": "uint256", "name": "tokenId", "type": "uint256" }, { "internalType": "uint256", "name": "collateral_value", "type": "uint256" }, { "internalType": "uint256", "name": "rent_value", "type": "uint256" }, { "internalType": "uint256", "name": "lease_term", "type": "uint256" }, { "internalType": "uint256", "name": "lease_start_date", "type": "uint256" }, { "internalType": "uint256", "name": "lease_end_date", "type": "uint256" }], "internalType": "struct Lilos_V1.ListingItem[]", "name": "", "type": "tuple[]" }], "stateMutability": "view", "type": "function" }, { "inputs": [{ "internalType": "address", "name": "lessor_", "type": "address" }], "name": "getItemsByLessor", "outputs": [{ "components": [{ "internalType": "enum Lilos_V1.ListingStatus", "name": "status", "type": "uint8" }, { "internalType": "address", "name": "lessor", "type": "address" }, { "internalType": "address", "name": "lessee", "type": "address" }, { "internalType": "address", "name": "collection", "type": "address" }, { "internalType": "uint256", "name": "tokenId", "type": "uint256" }, { "internalType": "uint256", "name": "collateral_value", "type": "uint256" }, { "internalType": "uint256", "name": "rent_value", "type": "uint256" }, { "internalType": "uint256", "name": "lease_term", "type": "uint256" }, { "internalType": "uint256", "name": "lease_start_date", "type": "uint256" }, { "internalType": "uint256", "name": "lease_end_date", "type": "uint256" }], "internalType": "struct Lilos_V1.ListingItem[]", "name": "", "type": "tuple[]" }], "stateMutability": "view", "type": "function" }, { "inputs": [], "name": "getLeasedItems", "outputs": [{ "components": [{ "internalType": "enum Lilos_V1.ListingStatus", "name": "status", "type": "uint8" }, { "internalType": "address", "name": "lessor", "type": "address" }, { "internalType": "address", "name": "lessee", "type": "address" }, { "internalType": "address", "name": "collection", "type": "address" }, { "internalType": "uint256", "name": "tokenId", "type": "uint256" }, { "internalType": "uint256", "name": "collateral_value", "type": "uint256" }, { "internalType": "uint256", "name": "rent_value", "type": "uint256" }, { "internalType": "uint256", "name": "lease_term", "type": "uint256" }, { "internalType": "uint256", "name": "lease_start_date", "type": "uint256" }, { "internalType": "uint256", "name": "lease_end_date", "type": "uint256" }], "internalType": "struct Lilos_V1.ListingItem[]", "name": "", "type": "tuple[]" }], "stateMutability": "view", "type": "function" }, { "inputs": [], "name": "getListingTotal", "outputs": [{ "internalType": "uint256", "name": "", "type": "uint256" }], "stateMutability": "view", "type": "function" }, { "inputs": [], "name": "getTime", "outputs": [{ "internalType": "uint256", "name": "", "type": "uint256" }], "stateMutability": "view", "type": "function" }, { "inputs": [{ "internalType": "address", "name": "", "type": "address" }, { "internalType": "uint256", "name": "", "type": "uint256" }], "name": "isTokenListed", "outputs": [{ "internalType": "bool", "name": "", "type": "bool" }], "stateMutability": "view", "type": "function" }, { "inputs": [{ "internalType": "uint256", "name": "listingId_", "type": "uint256" }], "name": "leaseIn", "outputs": [], "stateMutability": "payable", "type": "function" }, { "inputs": [{ "internalType": "uint256", "name": "listingId_", "type": "uint256" }], "name": "liquidate", "outputs": [], "stateMutability": "nonpayable", "type": "function" }, { "inputs": [{ "internalType": "address", "name": "collection_", "type": "address" }, { "internalType": "uint256", "name": "tokenId_", "type": "uint256" }, { "internalType": "uint256", "name": "collateral_value_", "type": "uint256" }, { "internalType": "uint256", "name": "rent_value_", "type": "uint256" }, { "internalType": "uint256", "name": "lease_term_", "type": "uint256" }], "name": "listToken", "outputs": [], "stateMutability": "nonpayable", "type": "function" }, { "inputs": [], "name": "owner", "outputs": [{ "internalType": "address", "name": "", "type": "address" }], "stateMutability": "view", "type": "function" }, { "inputs": [{ "internalType": "uint256", "name": "listingId_", "type": "uint256" }], "name": "repay", "outputs": [], "stateMutability": "nonpayable", "type": "function" }],
				params: {
				},
			}
				// console.log("fetching");
				const { fetch, data, error, isLoading } = useMoralisWeb3ApiCall(
					native.runContractFunction,
					{ ...options }
				);
	// }

	async function fetchGetActiveItems() {
		let options = {
			contractAddress: "0xA4f2020bF0bbe5c507b41e230F590957Ebc63d13",
			abi: [{ "inputs": [], "stateMutability": "nonpayable", "type": "constructor" }, { "anonymous": false, "inputs": [{ "indexed": false, "internalType": "uint256", "name": "listingId", "type": "uint256" }, { "indexed": false, "internalType": "address", "name": "lessor", "type": "address" }], "name": "Delisted", "type": "event" }, { "anonymous": false, "inputs": [{ "indexed": true, "internalType": "uint256", "name": "listingId", "type": "uint256" }, { "indexed": true, "internalType": "address", "name": "lessor", "type": "address" }, { "indexed": true, "internalType": "address", "name": "lessee", "type": "address" }, { "indexed": false, "internalType": "address", "name": "collection", "type": "address" }, { "indexed": false, "internalType": "uint256", "name": "tokenId", "type": "uint256" }, { "indexed": false, "internalType": "uint256", "name": "collateral_value", "type": "uint256" }, { "indexed": false, "internalType": "uint256", "name": "rent_value", "type": "uint256" }, { "indexed": false, "internalType": "uint256", "name": "lease_term", "type": "uint256" }, { "indexed": false, "internalType": "uint256", "name": "lease_start_date", "type": "uint256" }, { "indexed": false, "internalType": "uint256", "name": "lease_end_date", "type": "uint256" }], "name": "Leased", "type": "event" }, { "anonymous": false, "inputs": [{ "indexed": true, "internalType": "uint256", "name": "listingId", "type": "uint256" }, { "indexed": true, "internalType": "address", "name": "lessor", "type": "address" }, { "indexed": true, "internalType": "address", "name": "lessee", "type": "address" }, { "indexed": false, "internalType": "address", "name": "collection", "type": "address" }, { "indexed": false, "internalType": "uint256", "name": "tokenId", "type": "uint256" }, { "indexed": false, "internalType": "uint256", "name": "collateral_value", "type": "uint256" }, { "indexed": false, "internalType": "uint256", "name": "lease_term", "type": "uint256" }, { "indexed": false, "internalType": "uint256", "name": "lease_start_date", "type": "uint256" }, { "indexed": false, "internalType": "uint256", "name": "lease_end_date", "type": "uint256" }, { "indexed": false, "internalType": "uint256", "name": "Liquidated_date", "type": "uint256" }], "name": "Liquidated", "type": "event" }, { "anonymous": false, "inputs": [{ "indexed": true, "internalType": "uint256", "name": "listingId", "type": "uint256" }, { "indexed": false, "internalType": "enum Lilos_V1.ListingStatus", "name": "status", "type": "uint8" }, { "indexed": true, "internalType": "address", "name": "lessor", "type": "address" }, { "indexed": false, "internalType": "address", "name": "collection", "type": "address" }, { "indexed": false, "internalType": "uint256", "name": "tokenId", "type": "uint256" }, { "indexed": false, "internalType": "uint256", "name": "collateral_value", "type": "uint256" }, { "indexed": false, "internalType": "uint256", "name": "rent_value", "type": "uint256" }, { "indexed": false, "internalType": "uint256", "name": "lease_term", "type": "uint256" }], "name": "Listed", "type": "event" }, { "anonymous": false, "inputs": [{ "indexed": true, "internalType": "uint256", "name": "listingId", "type": "uint256" }, { "indexed": false, "internalType": "address", "name": "lessor", "type": "address" }, { "indexed": true, "internalType": "address", "name": "lessee", "type": "address" }, { "indexed": true, "internalType": "address", "name": "repayer", "type": "address" }, { "indexed": false, "internalType": "address", "name": "collection", "type": "address" }, { "indexed": false, "internalType": "uint256", "name": "tokenId", "type": "uint256" }, { "indexed": false, "internalType": "uint256", "name": "collateral_value", "type": "uint256" }, { "indexed": false, "internalType": "uint256", "name": "lease_term", "type": "uint256" }, { "indexed": false, "internalType": "uint256", "name": "lease_start_date", "type": "uint256" }, { "indexed": false, "internalType": "uint256", "name": "lease_end_date", "type": "uint256" }], "name": "Repayed", "type": "event" }, { "inputs": [{ "internalType": "uint256", "name": "listingId_", "type": "uint256" }], "name": "delist", "outputs": [], "stateMutability": "nonpayable", "type": "function" }, { "inputs": [], "name": "getActiveItems", "outputs": [{ "components": [{ "internalType": "enum Lilos_V1.ListingStatus", "name": "status", "type": "uint8" }, { "internalType": "address", "name": "lessor", "type": "address" }, { "internalType": "address", "name": "lessee", "type": "address" }, { "internalType": "address", "name": "collection", "type": "address" }, { "internalType": "uint256", "name": "tokenId", "type": "uint256" }, { "internalType": "uint256", "name": "collateral_value", "type": "uint256" }, { "internalType": "uint256", "name": "rent_value", "type": "uint256" }, { "internalType": "uint256", "name": "lease_term", "type": "uint256" }, { "internalType": "uint256", "name": "lease_start_date", "type": "uint256" }, { "internalType": "uint256", "name": "lease_end_date", "type": "uint256" }], "internalType": "struct Lilos_V1.ListingItem[]", "name": "", "type": "tuple[]" }], "stateMutability": "view", "type": "function" }, { "inputs": [], "name": "getAllItems", "outputs": [{ "components": [{ "internalType": "enum Lilos_V1.ListingStatus", "name": "status", "type": "uint8" }, { "internalType": "address", "name": "lessor", "type": "address" }, { "internalType": "address", "name": "lessee", "type": "address" }, { "internalType": "address", "name": "collection", "type": "address" }, { "internalType": "uint256", "name": "tokenId", "type": "uint256" }, { "internalType": "uint256", "name": "collateral_value", "type": "uint256" }, { "internalType": "uint256", "name": "rent_value", "type": "uint256" }, { "internalType": "uint256", "name": "lease_term", "type": "uint256" }, { "internalType": "uint256", "name": "lease_start_date", "type": "uint256" }, { "internalType": "uint256", "name": "lease_end_date", "type": "uint256" }], "internalType": "struct Lilos_V1.ListingItem[]", "name": "", "type": "tuple[]" }], "stateMutability": "view", "type": "function" }, { "inputs": [{ "internalType": "uint256", "name": "listingId_", "type": "uint256" }], "name": "getIsExpiredByListingId", "outputs": [{ "internalType": "bool", "name": "", "type": "bool" }], "stateMutability": "view", "type": "function" }, { "inputs": [{ "internalType": "address", "name": "collection_", "type": "address" }, { "internalType": "uint256", "name": "tokenId_", "type": "uint256" }], "name": "getItemByCollctionAndTokenId", "outputs": [{ "components": [{ "internalType": "enum Lilos_V1.ListingStatus", "name": "status", "type": "uint8" }, { "internalType": "address", "name": "lessor", "type": "address" }, { "internalType": "address", "name": "lessee", "type": "address" }, { "internalType": "address", "name": "collection", "type": "address" }, { "internalType": "uint256", "name": "tokenId", "type": "uint256" }, { "internalType": "uint256", "name": "collateral_value", "type": "uint256" }, { "internalType": "uint256", "name": "rent_value", "type": "uint256" }, { "internalType": "uint256", "name": "lease_term", "type": "uint256" }, { "internalType": "uint256", "name": "lease_start_date", "type": "uint256" }, { "internalType": "uint256", "name": "lease_end_date", "type": "uint256" }], "internalType": "struct Lilos_V1.ListingItem", "name": "", "type": "tuple" }], "stateMutability": "view", "type": "function" }, { "inputs": [{ "internalType": "uint256", "name": "listingId_", "type": "uint256" }], "name": "getItemByListingId", "outputs": [{ "components": [{ "internalType": "enum Lilos_V1.ListingStatus", "name": "status", "type": "uint8" }, { "internalType": "address", "name": "lessor", "type": "address" }, { "internalType": "address", "name": "lessee", "type": "address" }, { "internalType": "address", "name": "collection", "type": "address" }, { "internalType": "uint256", "name": "tokenId", "type": "uint256" }, { "internalType": "uint256", "name": "collateral_value", "type": "uint256" }, { "internalType": "uint256", "name": "rent_value", "type": "uint256" }, { "internalType": "uint256", "name": "lease_term", "type": "uint256" }, { "internalType": "uint256", "name": "lease_start_date", "type": "uint256" }, { "internalType": "uint256", "name": "lease_end_date", "type": "uint256" }], "internalType": "struct Lilos_V1.ListingItem", "name": "", "type": "tuple" }], "stateMutability": "view", "type": "function" }, { "inputs": [{ "internalType": "address", "name": "lessee_", "type": "address" }], "name": "getItemsByLessee", "outputs": [{ "components": [{ "internalType": "enum Lilos_V1.ListingStatus", "name": "status", "type": "uint8" }, { "internalType": "address", "name": "lessor", "type": "address" }, { "internalType": "address", "name": "lessee", "type": "address" }, { "internalType": "address", "name": "collection", "type": "address" }, { "internalType": "uint256", "name": "tokenId", "type": "uint256" }, { "internalType": "uint256", "name": "collateral_value", "type": "uint256" }, { "internalType": "uint256", "name": "rent_value", "type": "uint256" }, { "internalType": "uint256", "name": "lease_term", "type": "uint256" }, { "internalType": "uint256", "name": "lease_start_date", "type": "uint256" }, { "internalType": "uint256", "name": "lease_end_date", "type": "uint256" }], "internalType": "struct Lilos_V1.ListingItem[]", "name": "", "type": "tuple[]" }], "stateMutability": "view", "type": "function" }, { "inputs": [{ "internalType": "address", "name": "lessor_", "type": "address" }], "name": "getItemsByLessor", "outputs": [{ "components": [{ "internalType": "enum Lilos_V1.ListingStatus", "name": "status", "type": "uint8" }, { "internalType": "address", "name": "lessor", "type": "address" }, { "internalType": "address", "name": "lessee", "type": "address" }, { "internalType": "address", "name": "collection", "type": "address" }, { "internalType": "uint256", "name": "tokenId", "type": "uint256" }, { "internalType": "uint256", "name": "collateral_value", "type": "uint256" }, { "internalType": "uint256", "name": "rent_value", "type": "uint256" }, { "internalType": "uint256", "name": "lease_term", "type": "uint256" }, { "internalType": "uint256", "name": "lease_start_date", "type": "uint256" }, { "internalType": "uint256", "name": "lease_end_date", "type": "uint256" }], "internalType": "struct Lilos_V1.ListingItem[]", "name": "", "type": "tuple[]" }], "stateMutability": "view", "type": "function" }, { "inputs": [], "name": "getLeasedItems", "outputs": [{ "components": [{ "internalType": "enum Lilos_V1.ListingStatus", "name": "status", "type": "uint8" }, { "internalType": "address", "name": "lessor", "type": "address" }, { "internalType": "address", "name": "lessee", "type": "address" }, { "internalType": "address", "name": "collection", "type": "address" }, { "internalType": "uint256", "name": "tokenId", "type": "uint256" }, { "internalType": "uint256", "name": "collateral_value", "type": "uint256" }, { "internalType": "uint256", "name": "rent_value", "type": "uint256" }, { "internalType": "uint256", "name": "lease_term", "type": "uint256" }, { "internalType": "uint256", "name": "lease_start_date", "type": "uint256" }, { "internalType": "uint256", "name": "lease_end_date", "type": "uint256" }], "internalType": "struct Lilos_V1.ListingItem[]", "name": "", "type": "tuple[]" }], "stateMutability": "view", "type": "function" }, { "inputs": [], "name": "getListingTotal", "outputs": [{ "internalType": "uint256", "name": "", "type": "uint256" }], "stateMutability": "view", "type": "function" }, { "inputs": [], "name": "getTime", "outputs": [{ "internalType": "uint256", "name": "", "type": "uint256" }], "stateMutability": "view", "type": "function" }, { "inputs": [{ "internalType": "address", "name": "", "type": "address" }, { "internalType": "uint256", "name": "", "type": "uint256" }], "name": "isTokenListed", "outputs": [{ "internalType": "bool", "name": "", "type": "bool" }], "stateMutability": "view", "type": "function" }, { "inputs": [{ "internalType": "uint256", "name": "listingId_", "type": "uint256" }], "name": "leaseIn", "outputs": [], "stateMutability": "payable", "type": "function" }, { "inputs": [{ "internalType": "uint256", "name": "listingId_", "type": "uint256" }], "name": "liquidate", "outputs": [], "stateMutability": "nonpayable", "type": "function" }, { "inputs": [{ "internalType": "address", "name": "collection_", "type": "address" }, { "internalType": "uint256", "name": "tokenId_", "type": "uint256" }, { "internalType": "uint256", "name": "collateral_value_", "type": "uint256" }, { "internalType": "uint256", "name": "rent_value_", "type": "uint256" }, { "internalType": "uint256", "name": "lease_term_", "type": "uint256" }], "name": "listToken", "outputs": [], "stateMutability": "nonpayable", "type": "function" }, { "inputs": [], "name": "owner", "outputs": [{ "internalType": "address", "name": "", "type": "address" }], "stateMutability": "view", "type": "function" }, { "inputs": [{ "internalType": "uint256", "name": "listingId_", "type": "uint256" }], "name": "repay", "outputs": [], "stateMutability": "nonpayable", "type": "function" }],
			functionName: "getActiveItems",
			params: {
			},
			msgValue: Moralis.Units.ETH(0)
		}
			console.log("fetching");
		 await contractProcessor.fetch({
			params: options
		})
	}
	function con() {
		console.log("dd");
	}
	return (
		<>
			<Head>
				<title>My page title</title>
				<meta name="viewport" content="initial-scale=1.0, width=device-width" />
			</Head>
			<Nav />
			<button onClick={() => fetchGetActiveItems()} className="btn text-white border-none rounded-xl px-3 py-1 mr-2 text-lg justify-center hover:bg-primary font-BADABB tracking-[5px]">
				fetch</button>
				<button onClick={() => {
            fetch({ params: options });
          }} className="btn text-white border-none rounded-xl px-3 py-1 mr-2 text-lg justify-center hover:bg-primary font-BADABB tracking-[5px]">
				fetch</button>
			{console.log(Moralis.CoreManager.get("VERSION"))}
			<div className="w-screen mt-0 pt-40 px-5 overflow-y-auto flex flex-wrap ">
				{data && data.result.map(nft => (
					<div key={`${nft.token_id} ${nft.token_address}`} className="w-full md:w-1/3 lg:w-1/4 p-4 flex-shrink-0 relative">
						<div className="w-full m-auto">
							<div className="max-full bg-white m-1 mb-16 rounded-3xl hover:shadow-lg items-center border-[1px] border-slate-200">
								<div className="h-full py-3 flex flex-col">
									<div className="text-center px-2">
										<div className="flex justify-center ">
											<p className="  text-black text-xl font-bold truncate">
												{`${nft.name}`}
											</p>
											{verifyCollection(nft.token_address) &&
												<div>
													<MdOutlineVerified title="Verified Collection👌" fontSize={15} color="#000" />
												</div>
											}
										</div>
										<p className="text-black text-l truncate">
											#{`${nft.token_id}`}
										</p>
									</div>
									{/* <div className="max-full m-8 mb-16 rounded-lg shadow-lg items-center"> */}
									<img className="object-contain w-full h-48" src={nft.image} alt={nft.name} />
									<div className="px-6 py-4 ">
										<p className="leading-normal text-gray-700 flex-wrap truncate">{`${shortenAddress(nft.owner_of)}`}</p>
									</div>
								</div>
								<div className="px-6 relative mt-1">
									<div className="block">
										<p className="text-gray-800 text-xs">
											On sale</p>
										<div className="text-gray-700 text-2xl">
											<div className="flex items-baseline space-x-1">
												<div className="truncate">
													6.9 Ⓝ</div>
												<div className="text-xs text-gray-500 truncate">
													~ $83.15</div>
											</div>
										</div>
									</div>
									<div className="flex justify-between md:items-baseline">
										<p className="font-bold text-white cursor-point er hover:opacity-80 text-base md:text-base mb-1 md:mb-0">
											Buy Now</p>
										<a className="text-gray-500 underline text-sm md:text-sm" href="/token/x.paras.near::145332">
											See Details</a>
									</div>
								</div>
							</div>
						</div>
					</div>
					// </div>
				))}
				{/* {data && console.log(data.result)} */}
			</div>
		</>
	)
}

export default Account



